(function(t){function e(e){for(var n,i,c=e[0],s=e[1],l=e[2],d=0,v=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"display"}]},[a("v-container",{staticStyle:{padding:"7%","max-height":"100vh"},attrs:{fluid:""}},[a("v-system-bar",{attrs:{color:"primary",dark:""}},[a("v-spacer"),t.duty?a("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-blank-circle")]):a("v-icon",{attrs:{color:"red"}},[t._v("mdi-checkbox-blank-circle")]),t.duty?a("span",{staticClass:"pr-1"},[t._v("On Duty")]):a("span",{staticClass:"pr-1"},[t._v("Off Duty")]),a("span",{staticClass:"pr-1"},[t._v("#"+t._s(t.identifier))]),a("span",[t._v(t._s(t.time))])],1),a("v-card",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"calc(100vh - 39%)"},attrs:{tile:""}},[a("v-row",{class:t.layout},[a("v-col",{staticClass:"ma-0 pl-3 pr-10",staticStyle:{"background-color":"#2a2a2a"},attrs:{cols:"auto"}},[a("NavBar",{staticStyle:{position:"fixed"}})],1),a("v-col",{class:t.layout},[a("router-view",{staticStyle:{"background-color":"#2a2a2a"}})],1)],1)],1)],1)],1)},o=[],i=a("5530"),c=a("1da1"),s=(a("96cf"),a("d3b7"),{send:function(t){var e=arguments;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:{},a.next=3,fetch("http://qb-pmi/".concat(t),{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},emulate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.dispatchEvent(new MessageEvent("message",{data:{type:t,data:e}}))}}),l=a("b85c"),u=(a("07ac"),a("2f62"));n["a"].use(u["a"]);var d=new u["a"].Store({state:{officers:[],duty:!1,identifier:"0",citizenId:"",pvehicles:[],activePerson:{},people:[]},mutations:{},actions:{setMdtData:function(t,e){var a=t.state;a.officers=Object.values(e.officers),a.duty=e.duty,a.identifier=e.identifier,a.citizenId=e.citizenId,a.pvehicles=Object.values(e.pvehicles)},updateOfficer:function(t,e){var a=t.state;a.citizenId==e.citId&&(a.duty=e.officer.onDuty);var n,r=Object(l["a"])(a.officers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.citizenid==e.citId)return o.onDuty=e.officer.onDuty,o.radio=e.officer.radio,void console.log(o)}}catch(i){r.e(i)}finally{r.f()}},updatePvehicles:function(t,e){var a=t.state;a.pvehicles=Object.values(e.pvehicles)},recordRequest:function(t,e){var a=t.state;console.log(e),a.activePerson=e.player},playerSearchResults:function(t,e){var a=t.state;console.log(e),a.people=Object.values(e.people)}},modules:{}}),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{dark:"",elevation:"0"}},[a("v-navigation-drawer",{attrs:{"mini-variant":"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",{staticClass:"px-2"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"https://i.imgur.com/LU4u0b5.jpg"}})],1),a("v-list-item-title",[t._v("John Leider")]),a("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[a("v-icon",[t._v("mdi-chevron-left")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{link:""},on:{click:function(a){return t.pageTo(e.link)}}},[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[a("v-list-item-icon",t._g(t._b({},"v-list-item-icon",o,!1),r),[a("v-icon",{attrs:{color:t.activeItemColor(e.link)}},[t._v(t._s(e.icon))])],1)]}}],null,!0)},[a("span",[t._v(t._s(e.title))])]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)],1)],1)},p=[],f={data:function(){return{drawer:!0,items:[{title:"Duty",icon:"mdi-police-badge",link:"/"},{title:"Person",icon:"mdi-account",link:"/person"},{title:"Vehicles",icon:"mdi-car",link:"/vehicles"},{title:"Warrants",icon:"mdi-alarm-light",link:"/warrants"},{title:"Firearms",icon:"mdi-pistol",link:"/firearms"},{title:"Impound",icon:"mdi-lock",link:"/impound"}],mini:!0}},methods:{pageTo:function(t){this.$router.push(t).catch((function(){}))},activeItemColor:function(t){return t==this.currentRouteName?"primary":"white"}},computed:{currentRouteName:function(){return this.$route.path}}},m=f,h=a("2877"),y=a("6544"),g=a.n(y),b=a("8336"),_=a("b0af"),w=a("ce7e"),k=a("132d"),x=a("adda"),V=a("8860"),C=a("da13"),O=a("8270"),S=a("5d23"),j=a("34c3"),I=a("f774"),D=a("3a2f"),P=Object(h["a"])(m,v,p,!1,null,null,null),F=P.exports;g()(P,{VBtn:b["a"],VCard:_["a"],VDivider:w["a"],VIcon:k["a"],VImg:x["a"],VList:V["a"],VListItem:C["a"],VListItemAvatar:O["a"],VListItemContent:S["a"],VListItemIcon:j["a"],VListItemTitle:S["b"],VNavigationDrawer:I["a"],VTooltip:D["a"]});var R={name:"App",components:{NavBar:F},data:function(){return{layout:"pa-0 ma-0",display:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(u["b"])(["setMdtData","updateOfficer","updatePvehicles","recordRequest","playerSearchResults"])),{},{closeMDT:function(){s.send("close"),this.display=!1}}),computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])(["identifier","duty"])),{},{time:function(){return(new Date).toLocaleString("en-GB").substring(11,17)}}),destroyed:function(){window.removeEventListener("message",this.listener)},mounted:function(){var t=this;this.$vuetify.theme.themes.light={primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},document.onreadystatechange=function(){"complete"==document.readyState&&window.addEventListener("message",(function(e){var a=e.data;a.open&&(t.display=!0,t.setMdtData(a)),a.close&&(t.display=!1),"officerUpdate"==a.type&&t.updateOfficer(a),"pvehiclesUpdate"==a.type&&t.updatePvehicles(a),"recordRequestResult"==a.type&&t.recordRequest(a),"searchForPlayers"==a.type&&t.playerSearchResults(a)}))}}},T=R,N=(a("034f"),a("7496")),E=a("62ad"),$=a("a523"),L=a("0fd9"),M=a("2fa4"),z=a("afd9"),B=Object(h["a"])(T,r,o,!1,null,null,null),H=B.exports;g()(B,{VApp:N["a"],VCard:_["a"],VCol:E["a"],VContainer:$["a"],VIcon:k["a"],VRow:L["a"],VSpacer:M["a"],VSystemBar:z["a"]});var A=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"elevation-1 ml-4 mr-4",attrs:{dark:""}},[a("v-card-title",[t._v(" Officers "),a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:t.toggleDuty}},[t._v(" On/Off Duty ")])],1),a("v-data-table",{attrs:{headers:t.officerHeaders,items:t.officers,"items-per-page":10,"sort-by":"onDuty",dark:"","sort-desc":""},scopedSlots:t._u([{key:"item.onDuty",fn:function(e){var n=e.item;return[n.onDuty?a("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-blank-circle")]):a("v-icon",{attrs:{color:"red"}},[t._v("mdi-checkbox-blank-circle")])]}}],null,!0)})],1)],1),a("v-col",[a("v-card",{staticClass:"elevation-1 ml-4 mr-4",attrs:{dark:""}},[a("v-card-title",[t._v(" Vehicles in service "),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.pvehicleHeaders,items:t.pvehicles,"single-expand":!1,expanded:t.expanded,"item-key":"plate","show-expand":"",dark:""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var n=e.headers,r=e.item;return[a("td",{staticStyle:{"background-color":"#333333"},attrs:{colspan:n.length}},[a("v-simple-table",{staticStyle:{"background-color":"#333333"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Duty")]),a("th",{staticClass:"text-left"},[t._v("Callsign")]),a("th",{staticClass:"text-left"},[t._v("Name")])])]),a("tbody",t._l(r.occupants,(function(e){return a("tr",{key:e},[a("td",[t.officerFromId(e).onDuty?a("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-blank-circle")]):a("v-icon",{attrs:{color:"red"}},[t._v("mdi-checkbox-blank-circle")])],1),a("td",[t._v(t._s(t.officerFromId(e).callsign))]),a("td",[t._v(" "+t._s(t.officerFromId(e).firstname+" "+t.officerFromId(e).lastname)+" ")])])})),0)]},proxy:!0}],null,!0)})],1)]}},{key:"item.actions",fn:function(e){var n=e.item;return[t.inVehicle(n)?a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.toggleInVehicle(n,!1)}}},[a("v-icon",[t._v("mdi-car-arrow-right")])],1):a("v-btn",{attrs:{icon:"",color:"green"},on:{click:function(e){return t.toggleInVehicle(n,!0)}}},[a("v-icon",[t._v("mdi-car-arrow-left")])],1),a("v-btn",{attrs:{icon:"",color:"orange"},on:{click:function(e){return t.storeVehicle(n)}}},[a("v-icon",[t._v("mdi-garage-alert")])],1)]}}],null,!0)})],1)],1)],1)],1)},J=[],U={name:"Duty",data:function(){return{officerHeaders:[{text:"Duty",align:"start",value:"onDuty"},{text:"Callsign",value:"callsign"},{text:"First Name",value:"firstname"},{text:"Last Name",value:"lastname"},{text:"Phone",value:"phone"},{text:"Radio",value:"radio"}],pvehicleHeaders:[{text:"Plate",align:"start",value:"plate"},{text:"Vehicle",value:"model"},{text:"Owner Name",value:"ownerName"},{text:"Owner Callsign",value:"ownerCallSign"},{text:"",value:"actions",align:"end",sortable:!1},{text:"",value:"data-table-expand"}],expanded:[]}},computed:Object(i["a"])({},Object(u["c"])(["officers","citizenId","pvehicles"])),methods:{toggleDuty:function(){s.send("dutyToggle")},officerFromId:function(t){var e,a=Object(l["a"])(this.officers);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.citizenid==t)return n}}catch(r){a.e(r)}finally{a.f()}},inVehicle:function(t){var e,a=Object(l["a"])(t.occupants);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(this.citizenId==n)return!0}}catch(r){a.e(r)}finally{a.f()}return!1},storeVehicle:function(t){s.send("storeVehicle",t.plate)},toggleInVehicle:function(t,e){t.getIn=e,s.send("toggleInVehicle",t)}},components:{}},W=U,Y=a("99d9"),G=a("8fea"),K=a("1f4f"),Q=Object(h["a"])(W,q,J,!1,null,null,null),X=Q.exports;g()(Q,{VBtn:b["a"],VCard:_["a"],VCardTitle:Y["c"],VCol:E["a"],VContainer:$["a"],VDataTable:G["a"],VIcon:k["a"],VRow:L["a"],VSimpleTable:K["a"],VSpacer:M["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pr-0",attrs:{md:"4"}},[a("v-card",{staticClass:"elevation-1 ml-4 mr-4 overflow-y-auto",attrs:{dark:"","max-height":"68vh"}},[a("v-card-title",[t._v(" People "),a("v-spacer"),a("v-text-field",{staticStyle:{top:"12px"},attrs:{dense:"",label:"Search",color:"primary",outlined:""},model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",depressed:"",color:"primary"},on:{click:function(e){return t.search("finger")}}},"v-btn",r,!1),n),[a("v-icon",[t._v("mdi-fingerprint")])],1)]}}])},[a("span",[t._v("Search by print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",depressed:"",color:"primary"},on:{click:function(e){return t.search("name")}}},"v-btn",r,!1),n),[a("v-icon",[t._v("mdi-account")])],1)]}}])},[a("span",[t._v("Search by name")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",depressed:"",color:"primary"},on:{click:function(e){return t.search("dna")}}},"v-btn",r,!1),n),[a("v-icon",[t._v("mdi-dna")])],1)]}}])},[a("span",[t._v("Search by DNA Hex")])])],1),a("v-data-table",{attrs:{headers:t.peopleHeaders,items:t.people,"items-per-page":10,"sort-by":"onDuty",dark:"","sort-desc":""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-btn",t._g(t._b({attrs:{icon:"",depressed:"",color:"primary"},on:{click:function(e){return t.getPersonRecords(n)}}},"v-btn",t.attrs,!1),t.on),[a("v-icon",[t._v("mdi-magnify")])],1)]}}],null,!0)})],1)],1),a("v-col",{staticClass:"pl-0 pr-0",attrs:{md:"4"}},[t.activePerson.name?a("v-card",{staticClass:"overflow-y-auto",attrs:{elevation:"1",dark:"","max-height":"68vh"}},[a("v-card-title",[t._v(" "+t._s(t.activePerson.name)+" ")]),a("v-card-subtitle",[t._v(" "+t._s(t.activePerson.char.nationality)+", "+t._s(t.age(t.activePerson.char.birthdate))+" year old "+t._s(t.activePerson.gender)+" ")]),a("v-container",{staticClass:"pt-0"},[a("v-row",[a("v-col"),a("v-col",{attrs:{cols:"auto",justify:"end",align:"right"}},[a("v-card",{staticStyle:{right:"0"},attrs:{color:"white",elevation:"1","max-height":"270","max-width":"250"}},[a("v-img",{attrs:{src:t.activePerson.record.mugshot_url}})],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"primary"}},[t._v(" Issue Ticket ")]),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"primary"}},[t._v(" Create Report ")])],1)],1):t._e()],1),a("v-col",{attrs:{md:"4"}},[a("v-card",{staticClass:"overflow-y-auto",attrs:{elevation:"1",dark:"","max-height":"68vh"}},[a("v-card-title",[t._v(" Report ")]),a("v-card-subtitle"),a("v-card-actions")],1)],1)],1)],1)},tt=[],et={name:"Person",data:function(){return{peopleHeaders:[{text:"Name",align:"start",value:"name"},{text:"Phone no",value:"phone"},{text:"ID",value:"citizenid"},{text:"",value:"actions"}],searchField:""}},computed:Object(i["a"])({},Object(u["c"])(["activePerson","people"])),methods:{age:function(t){var e=new Date,a=new Date(t),n=e.getFullYear()-a.getFullYear(),r=e.getMonth()-a.getMonth();return(r<0||0===r&&e.getDate()<a.getDate())&&n--,n},search:function(t){var e={type:t,search:this.searchField};s.send("searchForPlayers",e)},getPersonRecords:function(t){console.log(t),s.send("getRecord",t.citizenid)}},components:{}},at=et,nt=a("8654"),rt=Object(h["a"])(at,Z,tt,!1,null,null,null),ot=rt.exports;g()(rt,{VBtn:b["a"],VCard:_["a"],VCardActions:Y["a"],VCardSubtitle:Y["b"],VCardTitle:Y["c"],VCol:E["a"],VContainer:$["a"],VDataTable:G["a"],VIcon:k["a"],VImg:x["a"],VRow:L["a"],VSpacer:M["a"],VTextField:nt["a"],VTooltip:D["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row")],1)},ct=[],st={name:"Vehicles",data:function(){return{}},computed:{},methods:{},components:{}},lt=st,ut=Object(h["a"])(lt,it,ct,!1,null,null,null),dt=ut.exports;g()(ut,{VContainer:$["a"],VRow:L["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row")],1)},pt=[],ft={name:"Warrants",data:function(){return{}},computed:{},methods:{},components:{}},mt=ft,ht=Object(h["a"])(mt,vt,pt,!1,null,null,null),yt=ht.exports;g()(ht,{VContainer:$["a"],VRow:L["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row")],1)},bt=[],_t={name:"Firearms",data:function(){return{}},computed:{},methods:{},components:{}},wt=_t,kt=Object(h["a"])(wt,gt,bt,!1,null,null,null),xt=kt.exports;g()(kt,{VContainer:$["a"],VRow:L["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"71vh"},attrs:{fluid:""}},[a("v-row")],1)},Ct=[],Ot={name:"Impound",data:function(){return{}},computed:{},methods:{},components:{}},St=Ot,jt=Object(h["a"])(St,Vt,Ct,!1,null,null,null),It=jt.exports;g()(jt,{VContainer:$["a"],VRow:L["a"]}),n["a"].use(A["a"]);var Dt=[{path:"/",name:"Duty",component:X},{path:"/person",name:"Person",component:ot},{path:"/vehicles",name:"Vehicles",component:dt},{path:"/warrants",name:"Warrants",component:yt},{path:"/firearms",name:"Firearms",component:xt},{path:"/impound",name:"Impound",component:It}],Pt=new A["a"]({routes:Dt}),Ft=Pt,Rt=a("f309");n["a"].use(Rt["a"]);var Tt=new Rt["a"]({});n["a"].config.productionTip=!1;var Nt=new n["a"]({router:Ft,store:d,vuetify:Tt,render:function(t){return t(H)}}).$mount("#app");document.onkeyup=function(t){"Escape"==t.code&&Nt.$children[0].closeMDT()}},"85ec":function(t,e,a){}});